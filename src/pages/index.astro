---
import Layout from "../layouts/Layout.astro";

const baseUrl = import.meta.env.BASE_URL;
const version = Date.now(); // This will change on each build
---

<script src={`${baseUrl}assets/indexAnimations.js`}></script>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const sigils = document.querySelectorAll<HTMLObjectElement>('.sigils');
    const content = document.querySelector<HTMLElement>('.content');
    
    // Hide content initially
    if (content) content.style.display = 'none';
    
    // Wait for all SVGs to load
    let loadedCount = 0;
    sigils.forEach(sigil => {
      sigil.addEventListener('load', () => {
        loadedCount++;
        if (loadedCount === sigils.length) {
          // All SVGs loaded, show content
          if (content) content.style.display = '';
        }
      });
    });
  });
</script>
<Layout>
  <main>
    <div class="container" style="margin-top: 6.5rem;">
      <object
        data={`${baseUrl}assets/sigilism.svg`}
        type="image/svg+xml"
        class="sigils"
      ></object>
      <object
        data={`${baseUrl}assets/sigilism.svg`}
        type="image/svg+xml"
        class="sigils"
        style="transform: scaleX(-1);"
      ></object>
    </div>
    <hr>
    <div class="container content">
      <p>hello there</p>
    </div>
  </main>
</Layout>

<style>
  .container {
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: center;
    min-height: 50vh;
    padding: 2rem;
  }

  .sigils {
    width: 50%;
    height: 60%;
    object-fit: cover;
    user-select: none;
    -webkit-user-drag: none;
    -khtml-user-drag: none;
    -moz-user-drag: none;
    -o-user-drag: none;
  }

  /*
	#d1d1d1 -> Text
	#0F0F0F -> Background
	#43119a -> Primary
	#dedcff -> Secondary
	#922dff -> Accent
	*/
</style>
